<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
    <h:head>
        <title>Create Profile</title>
        <meta charset="utf-8"></meta>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
    <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
        <script src="js/jquery.min.js"></script>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="js/bootstrap.min.js"></script>
        <link href="css/bootstrap.min.css" rel="stylesheet"></link>
         <link href="css/passwordTest.css" rel="stylesheet"></link>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    -->
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    
    <script type="text/javascript">
        $(document).ready(function($) {
             $('#form-signin\\:passstrength').value="asds123";
            //http://jsfiddle.net/aleem/KE3RB/8/
        $('#form-signin\\:password').keyup(function(e) {
     var strongRegex = new RegExp("^(?=.{8,})(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*\\W).*$", "g");
     var mediumRegex = new RegExp("^(?=.{7,})(((?=.*[A-Z])(?=.*[a-z]))|((?=.*[A-Z])(?=.*[0-9]))|((?=.*[a-z])(?=.*[0-9]))).*$", "g");
     var enoughRegex = new RegExp("(?=.{6,}).*", "g");
     if (false == enoughRegex.test($(this).val())) {
             $('#form-signin\\:passstrength').html('More Characters');
             $('#form-signin\\:passstrength').attr('class', 'error');
     } else if (strongRegex.test($(this).val())) {
             $('#form-signin\\:passstrength').attr('class',  'ok');
             $('#form-signin\\:passstrength').html('Strong password!');
     } else if (mediumRegex.test($(this).val())) {
             $('#form-signin\\:passstrength').attr('class', 'alert');
             $('#form-signin\\:passstrength').html('Medium password!');
     } else {
             $('#form-signin\\:passstrength').attr('class', 'error');
             $('#form-signin\\:passstrength').html('Weak password!');
     }
     return true;
    });
})
        
    </script>
    
    </h:head>
    <h:body>
        <!--topmenu-->
        <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
          </button>
          <a class="navbar-brand" href="#">Sassy</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
              <li class="active"> <h:form><h:commandButton class="btn btn-lg btn-primary" id="btnMenuCreate" value="Log in" action="index"/></h:form></li>                          
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>
        <div class="container theme-showcase" role="main" style="width: 30%">
            <div class="jumbotron">
                <div style="border-collapse:separate;border-spacing:10%;">
                    
                    <br/>
                    <h2 class="form-signin-heading">Please create user</h2> 
                    <h:form id="form-signin" class="form-signin">
                        <h:outputLabel class="error" value="#{CreateBean.errorMessage}"></h:outputLabel>
                        <br/>
                        Username:
                        <h:inputText  class="form-control" required='true' id="username" size="15" maxlength="31" value="#{CreateBean.username}"/>
                        <br/>
                        Password:
                        <h:inputSecret class="form-control" required='true'  id="password" size="15" maxlength="255" value="#{CreateBean.password}"/><h:outputLabel id="passstrength"></h:outputLabel>
                        <br/>
                        Repeat Password:
                        <h:inputSecret class="form-control" required='true'  id="password2" size="15" maxlength="255" value="#{CreateBean.password2}"/>
                        <br/>
                        <!--GLOBAL PUBLIC KEY = 6LeujfESAAAAAA-v8so9623aYCBXqLi6uo1qhrsn -->
                        <!--PUBLIC KEY = 6LeJQvESAAAAAOkeEZbUPDH4KxxTmkwg-uyVMw4g -->
                        <!-- NYT -->
                        <h:outputLabel value="CAPTCHA" /> 
                            <script type="text/javascript"
                               src="https://www.google.com/recaptcha/api/challenge?k=6LeujfESAAAAAA-v8so9623aYCBXqLi6uo1qhrsn"> 
                            </script>
                            <noscript>
                               <iframe src="https://www.google.com/recaptcha/api/noscript?k=6LeujfESAAAAAA-v8so9623aYCBXqLi6uo1qhrsn"
                                   height="300" width="500" frameborder="0"></iframe><br/>
                               <textarea name="recaptcha_challenge_field" rows="3" cols="40">
                               </textarea>
                               <input type="hidden" name="recaptcha_response_field"
                                   value="manual_challenge">
                               </input>
                            </noscript>
                           
                            <br/><br/>
 
                            <h:commandButton id="submit"  
                                             class="btn btn-primary"
                                             value="Create"
                                             action="#{CreateBean.createUser}"/>
                            <h:outputLink value="index.xhtml" class="btn btn-default pull-right">Back to login</h:outputLink>
                        <h:messages id="createmess" globalOnly="true"/>
                        
                    </h:form>
                </div>
            </div>
        </div>
           
        
    </h:body>
</html>



 
    
        
    
